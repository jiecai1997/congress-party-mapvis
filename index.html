<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>CS216 Congress Data</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.min.css">
  <link rel="stylesheet" href="css/index.css">

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script src="min.js/datamaps.usa.min.js"></script>
</head>

<body>
  <div class="jumbotron text-center">
    <a href="https://github.com/jiecai1997/congress-party-mapvis">
      <img src="img/github.png" alt="Github" style="width:40px;height:40px;border:0;">
    </a>
    <hr class="my-4">
    <h1 class="display-4">Congress Party US Choropleth</h1>
    <hr class="my-4">
    <p class="lead">
      Distibution of Political Parties in Congress across US States.
    </p>
  </div>

  <div class="container-fluid text-center">
    <div class="btn-group btn-group-md btn-group-toggle" data-toggle="buttons">
      <label class="btn btn-outline-dark waves-effect active" id="btn-all" onclick="choose('all')">
        <input type="radio" name="option" autocomplete="off" checked> All
      </label>
      <label class="btn btn-outline-dark waves-effect" id="btn-current" onclick="choose('current')">
        <input type="radio" name="option" autocomplete="off"> Current
      </label>
    </div>
    <div id="display-map"></div>
    <script src="min.js/statemaps2.min.js"></script>
  </div>

  <div class="jumbotron">
    <p class="lead"><strong>
      01 - Question
    </strong></p>
    <p>
      Through our project, we wanted to investigate the polarization of each state. We started by analyzing how polarized each state was historically, and then thought about the history of the parties and how much they have changed over time. Thus, we then made a new map representing the current polarization of each state based on their elected officials.
    </p>
    <p class="lead"><strong>
      02 - Congress Dataset
    </strong></p>
    <p>
      Regarding our data, we used the congress database to pull information regarding the party affiliation of all current and past representatives for each state. We used that information to compute the fraction of Democrats to Republicans within each state, and then scaled that fraction down into a range between -1 and 1, where -1 represents a fully Republican state and 1 represents a fully Democratic state.
    </p>
    <p class="lead"><strong>
      03 - Backend
    </strong></p>
    <p>
      We used SQL queries similar to the ones we used in homework 2, one query for all representatives and one for just the current members. For each query, we counted the number of members who are democrats and those who are republicans while grouping by state.
    </p>
    <p class="lead"><strong>
      04 - Frontend
    </strong></p>
    <p>
      For our front end, we used a jquery plugin for map data visualizations called DataMaps. Datamap is built on top of D3.js for more user-friendly and customizable maps. We started with the default US map choropleth, and plugged in our SQL results for each state, based on the past and current representative datasets.
    </p>
    <p class="lead"><strong>
      05 - Accuracy
    </strong></p>
    <p>
      By comparing our model to other visualizations of state polarization, we can conclude that our visualization was a fairly accurate one. Here is our representation of the current state parties, and here is a map from Wikipedia on swing states in the 2016 election. We can see the similarities between the two, which suggests our data and visualization are both quite reliable.
    </p>
    </br>
    <img src="img/swingstates.png"/>
  </div>

</body>
